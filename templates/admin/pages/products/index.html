{{define "content"}}
<div class="flex justify-between items-center mb-6">
    <h3 class="text-xl font-semibold text-gray-800">Danh sách sản phẩm</h3>
    <a href="/admin/products/create" class="inline-flex items-center px-4 py-2 bg-admin-green text-admin-black font-semibold rounded-lg hover:bg-admin-green-dark hover:text-white transition-colors">
        <i class="fas fa-plus mr-2"></i>Thêm sản phẩm
    </a>
</div>

<div class="bg-white rounded-xl shadow-sm overflow-hidden">
    <div class="overflow-x-auto">
        <table class="w-full">
            <thead class="bg-gray-50">
                <tr>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Hình</th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Tên</th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Danh mục</th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Giá gốc</th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Giá sale</th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Tồn kho</th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Hoạt động</th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Nổi bật</th>
                    <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase">Thao tác</th>
                </tr>
            </thead>
            <tbody class="divide-y divide-gray-200">
                {{range .Products}}
                <tr class="hover:bg-gray-50 transition-colors">
                    <td class="px-6 py-4">
                        {{if .ImageURL}}
                        <img src="{{.ImageURL}}" alt="{{.Name}}" class="w-12 h-12 object-cover rounded-lg">
                        {{else}}
                        <div class="w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center">
                            <i class="fas fa-image text-gray-400"></i>
                        </div>
                        {{end}}
                    </td>
                    <td class="px-6 py-4 text-sm font-medium text-gray-800">{{.Name}}</td>
                    <td class="px-6 py-4 text-sm text-gray-600">{{if .Category}}{{.Category.Name}}{{else}}-{{end}}</td>
                    <td class="px-6 py-4 text-sm text-gray-600">{{formatPrice .OriginalPrice}}</td>
                    <td class="px-6 py-4 text-sm font-semibold text-admin-green-dark">{{formatPrice .SalePrice}}</td>
                    <td class="px-6 py-4 text-sm text-gray-600">{{.Stock}}</td>
                    <td class="px-6 py-4">
                        {{if .IsActive}}
                        <span class="inline-flex px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800">Có</span>
                        {{else}}
                        <span class="inline-flex px-2 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-600">Không</span>
                        {{end}}
                    </td>
                    <td class="px-6 py-4">
                        {{if .IsFeatured}}
                        <i class="fas fa-star text-yellow-500"></i>
                        {{else}}
                        <i class="far fa-star text-gray-300"></i>
                        {{end}}
                    </td>
                    <td class="px-6 py-4 text-right">
                        <a href="/admin/products/{{.ID}}/edit" class="inline-flex items-center px-3 py-1.5 text-sm text-admin-green-dark hover:bg-admin-green-light rounded-lg transition-colors mr-2">
                            <i class="fas fa-edit mr-1"></i>Sửa
                        </a>
                        <a href="/admin/products/{{.ID}}/delete" class="inline-flex items-center px-3 py-1.5 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors" onclick="return confirm('Bạn có chắc muốn xóa sản phẩm này?')">
                            <i class="fas fa-trash mr-1"></i>Xóa
                        </a>
                    </td>
                </tr>
                {{else}}
                <tr>
                    <td colspan="9" class="px-6 py-12 text-center text-gray-400">
                        <i class="fas fa-box text-4xl mb-3 block opacity-50"></i>
                        Chưa có sản phẩm nào. <a href="/admin/products/create" class="text-admin-green-dark hover:underline">Thêm sản phẩm</a>
                    </td>
                </tr>
                {{end}}
            </tbody>
        </table>
    </div>
</div>
{{end}}
